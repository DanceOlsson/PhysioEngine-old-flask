<!-- /templates/display_result.html -->
{% extends 'base.html' %}

{% block title %}{{ result.questionnaire_name }} Results - PhysioEngine{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4 text-center">{{ result.questionnaire_name }} Results</h1>

    <div class="alert alert-warning" role="alert">
        <strong>Warning:</strong> These results are temporary and will be deleted when you close or update this window. 
        Please make sure to copy or save the results as they cannot be retrieved once they disappear.
    </div>

    <div class="card mb-4">
        <div class="card-body">
            <h2 class="card-title">Scores</h2>
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Section</th>
                        <th>Score</th>
                        <th>Interpretation</th>
                    </tr>
                </thead>
                <tbody>
                    {% for section in result.sections %}
                    <tr>
                        <td><strong>{{ section.name }}</strong></td>
                        <td>{{ section.score }}</td>
                        <td>{{ section.interpretation }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            
            {% if result.total_score is defined %}
            <p class="mt-3"><strong>Total Score:</strong> {{ result.total_score }}</p>
            {% endif %}
            
            {% if result.interpretation %}
            <p class="mt-3"><strong>Overall Interpretation:</strong> {{ result.interpretation }}</p>
            {% endif %}
        </div>
    </div>

    <div class="text-center">
        <a href="{{ url_for('physio.physio') }}" class="btn btn-primary me-2">Questionnaires</a>
        <a href="{{ url_for('main.index') }}" class="btn btn-secondary">Home</a>
    </div>
</div>
{% endblock %}
